{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sean\\\\Documents\\\\sean-tang-brainflix\\\\src\\\\components\\\\HomePage\\\\HomePage.js\";\nimport React, { Component } from 'react';\nimport Video from '../Video/Video';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet apiKey = \"21f250aa-1b72-4cf4-8711-95c9fb6f8d5f\";\n\nclass HomePage extends Component {\n  constructor() {\n    super(...arguments);\n\n    this.newId = id => {\n      this.setState({\n        videoId: id\n      });\n    };\n\n    this.state = {\n      videoId: null,\n      VideoDetails: [],\n      videoInfo: []\n    };\n  }\n\n  getVideo() {\n    axios.get('https://project-2-api.herokuapp.com/videos?api_key=' + apiKey).then(response => {\n      let videoStats = response.data;\n      this.setState({\n        VideoDetails: videoStats,\n        videoId: videoStats[0].id\n      });\n    }).catch(error => {\n      console.log('Error!');\n    });\n  }\n\n  getVideoDetails(id) {\n    axios.get('https://project-2-api.herokuapp.com/videos/' + id + '?api_key=' + apiKey).then(response => {\n      let videoInfo = response.data;\n      this.setState({\n        videoInfo: videoInfo\n      });\n    }).catch(error => {\n      console.log('Error!');\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.videoId !== prevState.videoId) {\n      this.getVideoDetails(this.state.videoId);\n    }\n\n    if (this.props.match.params.id) {\n      const videoId = this.props.match.params.id;\n\n      if (prevState.videoId !== videoId) {\n        this.setState({\n          videoId: videoId\n        });\n      }\n    } else if (!this.props.match.params.id && prevProps.match.params.id) {\n      this.setState({\n        videoId: this.state.VideoDetails[0].id\n      });\n    }\n  }\n\n  componentDidMount() {\n    document.title = \"Sean Tang Brainflix\";\n    this.getVideo();\n  }\n\n  render() {\n    const activeVideo = this.state.VideoDetails.findIndex(element => element.id === this.state.videoId);\n\n    if (!this.state.videoId) {\n      return null;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Video, {\n        activeVideo: this.state.VideoDetails[activeVideo]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(UnderVideo, {\n        activeVideo: this.state.VideoDetails[activeVideo],\n        newId: this.newId,\n        sideVideos: this.state.VideoDetails,\n        routerProps: this.props,\n        videoInfo: this.state.videoInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default HomePage;","map":{"version":3,"names":["React","Component","Video","axios","apiKey","HomePage","newId","id","setState","videoId","state","VideoDetails","videoInfo","getVideo","get","then","response","videoStats","data","catch","error","console","log","getVideoDetails","componentDidUpdate","prevProps","prevState","props","match","params","componentDidMount","document","title","render","activeVideo","findIndex","element"],"sources":["C:/Users/sean/Documents/sean-tang-brainflix/src/components/HomePage/HomePage.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport Video from '../Video/Video';\r\nimport axios from 'axios';\r\n\r\n\r\nlet apiKey = \"21f250aa-1b72-4cf4-8711-95c9fb6f8d5f\";\r\nclass HomePage extends Component {\r\n    \r\n    newId = (id) => {\r\n        this.setState({videoId: id})\r\n      }\r\n    \r\n      state = {\r\n        videoId: null,\r\n        VideoDetails: [],\r\n        videoInfo: []\r\n      };\r\n\r\n      getVideo() {\r\n        axios.get('https://project-2-api.herokuapp.com/videos?api_key=' + apiKey)\r\n        .then(response => {\r\n            let videoStats = response.data;\r\n            this.setState({\r\n                VideoDetails: videoStats,\r\n                videoId: videoStats[0].id,\r\n            })\r\n        })\r\n\r\n        .catch(error => {\r\n            console.log('Error!')\r\n        });\r\n      }\r\n\r\n      getVideoDetails(id) {\r\n        axios.get('https://project-2-api.herokuapp.com/videos/' + id + '?api_key=' + apiKey)\r\n        .then(response => {\r\n            let videoInfo = response.data;\r\n            this.setState({\r\n                videoInfo: videoInfo,\r\n            })\r\n        })\r\n        .catch(error => {\r\n            console.log('Error!')\r\n        });\r\n      }\r\n\r\n      componentDidUpdate(prevProps, prevState) {\r\n          if(this.state.videoId !== prevState.videoId) {\r\n              this.getVideoDetails(this.state.videoId);\r\n          }\r\n\r\n          if(this.props.match.params.id) {\r\n              const videoId = this.props.match.params.id;\r\n\r\n              if(prevState.videoId !== videoId) {\r\n                  this.setState({videoId: videoId})\r\n              }\r\n          } else if (!this.props.match.params.id && prevProps.match.params.id) {\r\n              this.setState({videoId: this.state.VideoDetails[0].id})\r\n          }\r\n      }\r\n\r\n\r\n    \r\n      componentDidMount() {\r\n        document.title = \"Sean Tang Brainflix\"; \r\n        this.getVideo();\r\n     }\r\n    \r\n      render() {\r\n        const activeVideo = this.state.VideoDetails.findIndex(element => element.id === this.state.videoId);\r\n        if( !this.state.videoId) {\r\n          return null\r\n        }\r\n        return (\r\n          <div>\r\n          <Video activeVideo={this.state.VideoDetails[activeVideo]} />\r\n          <UnderVideo activeVideo={this.state.VideoDetails[activeVideo]} newId={this.newId} sideVideos={this.state.VideoDetails} routerProps={this.props} videoInfo={this.state.videoInfo}/>\r\n          </div>\r\n        )\r\n      }\r\n}\r\n\r\nexport default HomePage"],"mappings":"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"},"metadata":{},"sourceType":"module"}