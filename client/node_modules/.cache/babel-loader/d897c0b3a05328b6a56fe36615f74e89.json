{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sean\\\\Documents\\\\sean-tang-brainflix\\\\src\\\\components\\\\HomePage\\\\HomePage.js\";\nimport React, { Component } from 'react';\nimport Video from '../Video/Video';\nimport axios from 'axios';\nimport UnderVideo from '../UnderVideo/UnderVideo';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet apiKey = \"21f250aa-1b72-4cf4-8711-95c9fb6f8d5f\";\n\nclass HomePage extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      videoId: null,\n      VideoDetails: [],\n      videoInfo: []\n    };\n\n    this.newId = id => {\n      this.setState({\n        videoId: id\n      });\n    };\n  }\n\n  getVideo() {\n    axios.get('https://project-2-api.herokuapp.com/videos?api_key=' + apiKey).then(response => {\n      let videoStats = response.data;\n      this.setState({\n        VideoDetails: videoStats,\n        videoId: videoStats[0].id\n      });\n    }).catch(error => {\n      console.log('Error!');\n    });\n  }\n\n  getVideoDetails(id) {\n    axios.get('https://project-2-api.herokuapp.com/videos/' + id + '?api_key=' + apiKey).then(response => {\n      let videoInfo = response.data;\n      this.setState({\n        videoInfo: videoInfo\n      });\n    }).catch(error => {\n      console.log('Error!');\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.videoId !== prevState.videoId) {\n      this.getVideoDetails(this.state.videoId);\n    }\n\n    if (this.props.match.params.id) {\n      const videoId = this.props.match.params.id;\n\n      if (prevState.videoId !== videoId) {\n        this.setState({\n          videoId: videoId\n        });\n      }\n    } else if (!this.props.match.params.id && prevProps.match.params.id) {\n      this.setState({\n        videoId: this.state.VideoDetails[0].id\n      });\n    }\n  }\n\n  componentDidMount() {\n    document.title = \"Sean Tang Brainflix\";\n    this.getVideo();\n  }\n\n  render() {\n    const activeVideo = this.state.VideoDetails.findIndex(element => element.id === this.state.videoId); // if( !this.state.videoId) {\n    //   return null\n    // }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Video, {\n        activeVideo: this.state.VideoDetails[activeVideo]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(UnderVideo, {\n        activeVideo: this.state.VideoDetails[activeVideo],\n        newId: this.newId,\n        sideVideos: this.state.VideoDetails,\n        routerProps: this.props,\n        videoInfo: this.state.videoInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }, this);\n  }\n\n}\n\nexport default HomePage;","map":{"version":3,"names":["React","Component","Video","axios","UnderVideo","apiKey","HomePage","state","videoId","VideoDetails","videoInfo","newId","id","setState","getVideo","get","then","response","videoStats","data","catch","error","console","log","getVideoDetails","componentDidUpdate","prevProps","prevState","props","match","params","componentDidMount","document","title","render","activeVideo","findIndex","element"],"sources":["C:/Users/sean/Documents/sean-tang-brainflix/src/components/HomePage/HomePage.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport Video from '../Video/Video';\r\nimport axios from 'axios';\r\nimport UnderVideo from '../UnderVideo/UnderVideo';\r\n\r\n\r\nlet apiKey = \"21f250aa-1b72-4cf4-8711-95c9fb6f8d5f\";\r\nclass HomePage extends Component {\r\n    \r\n\r\n    \r\n      state = {\r\n        videoId: null,\r\n        VideoDetails: [],\r\n        videoInfo: []\r\n      };\r\n\r\n      newId = (id) => {\r\n        this.setState({videoId: id})\r\n      }\r\n\r\n      getVideo() {\r\n        axios.get('https://project-2-api.herokuapp.com/videos?api_key=' + apiKey)\r\n        .then(response => {\r\n            let videoStats = response.data;\r\n            this.setState({\r\n                VideoDetails: videoStats,\r\n                videoId: videoStats[0].id,\r\n            })\r\n        })\r\n\r\n        .catch(error => {\r\n            console.log('Error!')\r\n        });\r\n      }\r\n\r\n      getVideoDetails(id) {\r\n        axios.get('https://project-2-api.herokuapp.com/videos/' + id + '?api_key=' + apiKey)\r\n        .then(response => {\r\n            let videoInfo = response.data;\r\n            this.setState({\r\n                videoInfo: videoInfo,\r\n            })\r\n        })\r\n        .catch(error => {\r\n            console.log('Error!')\r\n        });\r\n      }\r\n\r\n      componentDidUpdate(prevProps, prevState) {\r\n          if(this.state.videoId !== prevState.videoId) {\r\n              this.getVideoDetails(this.state.videoId);\r\n          }\r\n\r\n          if(this.props.match.params.id) {\r\n              const videoId = this.props.match.params.id;\r\n\r\n              if(prevState.videoId !== videoId) {\r\n                  this.setState({videoId: videoId})\r\n              }\r\n          } else if (!this.props.match.params.id && prevProps.match.params.id) {\r\n              this.setState({videoId: this.state.VideoDetails[0].id})\r\n          }\r\n      }\r\n\r\n\r\n    \r\n      componentDidMount() {\r\n        document.title = \"Sean Tang Brainflix\"; \r\n        this.getVideo();\r\n     }\r\n    \r\n      render() {\r\n        const activeVideo = this.state.VideoDetails.findIndex(element => element.id === this.state.videoId);\r\n        // if( !this.state.videoId) {\r\n        //   return null\r\n        // }\r\n        return (\r\n          <div>\r\n          <Video activeVideo={this.state.VideoDetails[activeVideo]} />\r\n          <UnderVideo activeVideo={this.state.VideoDetails[activeVideo]} newId={this.newId} sideVideos={this.state.VideoDetails} routerProps={this.props} videoInfo={this.state.videoInfo}/>\r\n          </div>\r\n        )\r\n      }\r\n}\r\n\r\nexport default HomePage"],"mappings":"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"},"metadata":{},"sourceType":"module"}